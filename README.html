<style type="text/css">
.borderless, table.borderless td, table.borderless th {
  border: 0 }
table.borderless td, table.borderless th {
    padding: 0 0.5em 0 0 ! important }
.first {
    margin-top: 0 ! important }
.last, .with-subtitle {
  margin-bottom: 0 ! important }
.hidden {
  display: none }
a.toc-backref {
  text-decoration: none ;
  color: black }
blockquote.epigraph {
  margin: 2em 5em ; }
dl.docutils dd {
  margin-bottom: 0.5em }
object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}
div.abstract {
  margin: 2em 5em }
div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }
div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }
div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }
div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }
div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }
div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }
div.figure {
  margin-left: 2em ;
  margin-right: 2em }
div.footer, div.header {
  clear: both;
  font-size: smaller }
div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }
div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }
div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }
div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }
div.system-messages {
  margin: 5em }
div.system-messages h1 {
  color: red }
div.system-message {
  border: medium outset ;
  padding: 1em }
div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }
div.topic {
  margin: 2em }
h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }
h1.title {
  text-align: center }
h2.subtitle {
  text-align: center }
hr.docutils {
  width: 75% }
img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }
img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }
img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.align-left {
  text-align: left }
.align-center {
  clear: both ;
  text-align: center }
.align-right {
  text-align: right }
div.align-right {
  text-align: inherit }
ol.simple, ul.simple {
  margin-bottom: 1em }
ol.arabic {
  list-style: decimal }
ol.loweralpha {
  list-style: lower-alpha }
ol.upperalpha {
  list-style: upper-alpha }
ol.lowerroman {
  list-style: lower-roman }
ol.upperroman {
  list-style: upper-roman }
p.attribution {
  text-align: right ;
  margin-left: 50% }
p.caption {
  font-style: italic }
p.credits {
  font-style: italic ;
  font-size: smaller }
p.label {
  white-space: nowrap }
p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }
p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }
p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }
p.topic-title {
  font-weight: bold }
pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }
pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }
pre.code .ln { color: grey; } pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}
span.classifier {
  font-family: sans-serif ;
  font-style: oblique }
span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }
span.interpreted {
  font-family: sans-serif }
span.option {
  white-space: nowrap }
span.pre {
  white-space: pre }
span.problematic {
  color: red }
span.section-subtitle {
    font-size: 80% }
table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }
table.docinfo {
  margin: 2em 4em }
table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }
table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }
table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }
table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}
h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }
ul.auto-toc {
  list-style-type: none }
</style>
<div class="document" id="linux-monitor-zenpack">
<h1 class="title">Linux Monitor Zenpack</h1>
<p>This ZenPack monitors the Linux Operating System.</p>
<div class="section" id="releases">
<h1><a class="toc-backref" href="#id1">Releases</a></h1>
<p><a class="reference external" href="http://wiki.zenoss.org/download/zenpacks/ZenPacks.zenoss.LinuxMonitor/2.1.1/ZenPacks.zenoss.LinuxMonitor-2.1.1.egg">Version-2.1.1</a> : Released on 2016/12/21</p>
<blockquote>
Compatible with Zenoss Core 4.2.x, Zenoss Core 5.0.x, Zenoss Core 5.1.x,
Zenoss Resource Manager 4.2.x, Zenoss Resource Manager 5.0.x, Zenoss
Resource Manager 5.1.x, Zenoss Resource Manager 5.x.x</blockquote>
<p><a class="reference external" href="http://wiki.zenoss.org/download/zenpacks/ZenPacks.zenoss.LinuxMonitor/2.0.6/ZenPacks.zenoss.LinuxMonitor-2.0.6.egg">Version-2.0.6</a> : Released on 2016/11/01</p>
<blockquote>
Compatible with Zenoss Core 4.2.x, Zenoss Core 5.0.x, Zenoss Core 5.1.x,
Zenoss Resource Manager 4.2.x, Zenoss Resource Manager 5.0.x, Zenoss
Resource Manager 5.1.x</blockquote>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#releases" id="id1">Releases</a></li>
<li><a class="reference internal" href="#background" id="id2">Background</a></li>
<li><a class="reference internal" href="#features" id="id3">Features</a><ul>
<li><a class="reference internal" href="#discovery" id="id4">Discovery</a></li>
</ul>
</li>
<li><a class="reference internal" href="#set-linux-server-monitoring-credentials" id="id5">Set Linux Server Monitoring Credentials</a><ul>
<li><a class="reference internal" href="#using-a-root-user" id="id6">Using a Root User</a></li>
<li><a class="reference internal" href="#using-a-non-root-user" id="id7">Using a Non-Root User</a></li>
</ul>
</li>
<li><a class="reference internal" href="#add-a-linux-server" id="id8">Add a Linux Server</a></li>
<li><a class="reference internal" href="#installed-items" id="id9">Installed Items</a></li>
<li><a class="reference internal" href="#monitoring-templates" id="id10">Monitoring Templates</a></li>
<li><a class="reference internal" href="#service-impact" id="id11">Service Impact</a></li>
<li><a class="reference internal" href="#daemons" id="id12">Daemons</a></li>
<li><a class="reference internal" href="#supported-flavors" id="id13">Supported flavors</a></li>
<li><a class="reference internal" href="#changes" id="id14">Changes</a></li>
</ul>
</div>
</div>
<div class="section" id="background">
<h1><a class="toc-backref" href="#id2">Background</a></h1>
<p>This ZenPack provided monitoring support for Linux, leveraging OpenSSH
for data access. In addition to system health, disks, LVM, services, and
processes are monitored.</p>
</div>
<div class="section" id="features">
<h1><a class="toc-backref" href="#id3">Features</a></h1>
<ul class="simple">
<li>Monitors multiple Linux flavors and versions</li>
<li>OpenStack LVM volume integration</li>
<li>Monitors LVM Physical Volumes, Volume Groups, and Logical Volumes</li>
<li>Block Device monitoring</li>
<li>Service Monitoring via Sysvinit, Systemd, Upstart</li>
<li>Root Cause Analysis with Impact Support</li>
<li>Dynamic View support</li>
</ul>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">This version of LinuxMonitor fully replaces EnterpriseLinux. To avoid
related errors in zenhub logs, EnterpriseLinux ZP should be removed.</p>
</div>
<div class="section" id="discovery">
<h2><a class="toc-backref" href="#id4">Discovery</a></h2>
<p>The following entities will be automatically discovered. The attributes
and collections will be updated on Zenoss normal remodeling interval
which defaults to every 12 hours.</p>
<dl class="docutils">
<dt>Hard Disks</dt>
<dd>Attributes: Name, Size, LVM PV</dd>
</dl>
<div class="note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>On CentOS5, RHEL5 (and possibly others), the <strong>lsblk</strong> command is not
available, in which case this component will be missing.</li>
<li>To ignore unmounted drives, set the <em>zIgnoreUnmounted</em> configuration
property to True.</li>
</ul>
</div>
<dl class="docutils">
<dt>Processors</dt>
<dd>Attributes: Socket, Manufacturer, Model, Speed, Ext Speed, L1, L2,
Voltage</dd>
<dt>IP Services</dt>
<dd>Attributes: Name, Protocol, Port, IPs, Description</dd>
<dt>File Systems</dt>
<dd>Attributes: Mount Point, Storage Device, Total Bytes, Used Bytes,
Free Bytes, % Util</dd>
<dt>Interfaces</dt>
<dd>Attributes: IP Interface, IP Addresses, Description, MAC Address,
Operational Status, Admin Status</dd>
<dt>Network Routes</dt>
<dd>Attributes: Destination, Next Hop, Interface, Protocol, Type</dd>
<dt>Snapshot Volumes</dt>
<dd>Attributes: Name, Volume Group, Logical Volume, Size, Block Device,
File System, Active
Relations: Logical Volumes</dd>
<dt>Physical Volumes</dt>
<dd>Attributes: Name, Format, Size, Free, % Util, Block Device, Volume
Group
Relations: Volume Groups</dd>
<dt>Volume Groups</dt>
<dd>Attributes: Name, Size, Free, % Util, Snapshot Volumes, Logical
Volumes, Physical Volumes</dd>
<dt>Logical Volumes</dt>
<dd>Attributes: Name, Volume Group, Size, Block Device, File System,
Active, Snapshot Volumes
Relations: Volume Groups</dd>
<dt>OS Processes</dt>
<dd>Attributes: Process Class, Process Set, Restart Alert?, Fail
Severity</dd>
<dt>OS Services</dt>
<dd>Attributes: Name, Loaded Status, Active Status, Main PID, Processes,
Description</dd>
</dl>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">On some Linux flavors some fields (Loaded Status, Processes,
Description) could be empty.</p>
</div>
</div>
</div>
<div class="section" id="set-linux-server-monitoring-credentials">
<h1><a class="toc-backref" href="#id5">Set Linux Server Monitoring Credentials</a></h1>
<p>All Linux servers must have a device entry in an organizer below the
<tt class="docutils literal">/Devices/Server/SSH/Linux</tt> device class.</p>
<div class="tip">
<p class="first admonition-title">Tip</p>
<p class="last">The SSH monitoring feature will attempt to use key-based authentication
before using a configuration properties password value.</p>
</div>
<ol class="arabic simple">
<li>Select Infrastructure from the navigation bar.</li>
<li>Click the device name in the device list.
The device overview page appears.</li>
<li>Select Configuration Properties from the left panel.</li>
<li>Verify the credentials for the service account.
The zCommandUsername property must be set. To use public key
authentication you must verify that the public portion of the key
referenced in zKeyPath is installed in the
<tt class="docutils literal"><span class="pre">~/.ssh/authorized\_keys</span></tt> file for the appropriate user on the
linux server. If this key has a passphrase you should set it in the
zCommandPassword property. If you'd rather use password
authentication than setup keys, simply put the user's password in the
zCommandPassword property.</li>
</ol>
<div class="section" id="using-a-root-user">
<h2><a class="toc-backref" href="#id6">Using a Root User</a></h2>
<p>This ZenPack requires the ability to run the <em>pvs</em>, <em>vgs</em>, <em>lvs</em>,
<em>systemctl</em>, <em>initctl</em> and <em>service</em> commands, remotely on your linux
server(s) using SSH. By default, these commands are only allowed to
be run locally. To remotely run these commands, the root user must
not be required to use TTY.</p>
<ol class="arabic">
<li><p class="first">Install the <strong>sudo</strong> package on your server.</p>
</li>
<li><p class="first">Allow root user to execute commands via ssh without a TTY.</p>
<ol class="arabic">
<li><p class="first">Edit the /etc/sudoers file.</p>
</li>
<li><p class="first">Find the line containing <em>root ALL=(ALL) ALL</em>.</p>
</li>
<li><p class="first">Add this line underneath it:</p>
<blockquote>
<p>Defaults:root !requiretty</p>
</blockquote>
</li>
<li><p class="first">Save the changes and exit.</p>
</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="using-a-non-root-user">
<h2><a class="toc-backref" href="#id7">Using a Non-Root User</a></h2>
<p>This ZenPack requires the ability to run the <em>pvs</em>, <em>vgs</em>, <em>lvs</em>,
<em>systemctl</em>, <em>initctl</em> and <em>service</em> commands, remotely on your linux
server(s) using SSH. By default, most of these commands are only
allowed to be run by the <strong>root</strong> user. The output of <em>systemctl</em>,
<em>initctl</em> and <em>service</em> commands depends on whether they are executed
via <strong>sudo</strong>. Furthermore, this ZenPack expects these commands be in
the user's path. Normally this is only true for the root user.</p>
<p>Assuming that you've created a user named <strong>zenmonitor</strong> on your
linux servers for monitoring purposes, you can follow these steps to
allow the <strong>zenmonitor</strong> user to run the commands.</p>
<ol class="arabic">
<li><p class="first">Install the <strong>sudo</strong> package on your server</p>
</li>
<li><p class="first">Allow the <strong>zenmonitor</strong> user to run the commands via ssh without a TTY</p>
<ul>
<li><dl class="first docutils">
<dt>Edit /etc/sudoers.d/zenoss (Or /etc/sudoers if sudoers.d not</dt>
<dd><p class="first">supported) and&nbsp;add&nbsp;the&nbsp;following&nbsp;lines&nbsp;to&nbsp;the&nbsp;bottom&nbsp;of&nbsp;the&nbsp;file:</p>
<pre class="last literal-block">
Defaults:zenmonitor !requiretty
Cmnd_Alias ZENOSS_LVM_CMDS = /sbin/pvs, /sbin/vgs, /sbin/lvs, \
    /usr/sbin/pvs, /usr/sbin/vgs, /usr/sbin/lvs
Cmnd_Alias ZENOSS_SVC_CMDS = /bin/systemctl list-units *, \
    /bin/systemctl status *, /sbin/initctl list, /sbin/service --status-all, \
    /usr/sbin/dmidecode
zenmonitor ALL=(ALL) NOPASSWD: ZENOSS_LVM_CMDS, ZENOSS_SVC_CMDS
</pre>
</dd>
</dl>
</li>
<li><p class="first">Save, ensuring all paths for these commands are correct</p>
</li>
</ul>
</li>
</ol>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">In order for Ssh operation works correctly, ensure OpenSSH is updated
to your distro's current version. This is especially true for older
versions of RHEL, CentOS, Ubuntu, and Suse Linux.</p>
</div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">For Suse Linux the paths for (<strong>pvs, vgs, lvs</strong>) are located at
<strong>/sbin/pvs</strong>, <strong>/sbin/vgs</strong>, and <strong>/sbin/lvs</strong> respectively. Please
ensure that each command can be manually executed remotely.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>zCommandUsername</td>
<td>Linux user with privileges to gather
performance information.</td>
</tr>
<tr><td>zCommandPassword</td>
<td>Password for the Linux user.</td>
</tr>
</tbody>
</table>
<p>Table: Linux Configuration Properties</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">zSshConcurrentSessions property by default equals to 5. In case of
increasing this value user has change sshd daemon configuration on
target device by increasing allowed session number and restart sshd
daemon.</p>
</div>
</div>
</div>
<div class="section" id="add-a-linux-server">
<h1><a class="toc-backref" href="#id8">Add a Linux Server</a></h1>
<p>The following procedure assumes that credentials have been set.</p>
<ol class="arabic">
<li><p class="first">Select Infrastructure from the navigation bar.</p>
</li>
<li><p class="first">Select Add a Single Device from the Add Device list of options.
The Add a Single Device dialog appears.</p>
</li>
<li><p class="first">Enter the following information in the dialog:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Name or IP</td>
<td>Linux host to model.</td>
</tr>
<tr><td>Device Class</td>
<td>/Server/SSH/Linux</td>
</tr>
<tr><td>Model Device</td>
<td>Select this option unless adding a
device with a user name and password
different than found in the device
class. If you do not select this
option, then you must add the
credentials (see) and then manually
model the device.</td>
</tr>
</tbody>
</table>
<p>Table: Adding Linux Device Details</p>
</li>
<li><p class="first">Click <strong>Add</strong>.</p>
</li>
</ol>
<p>Alternatively you can use zenbatchload to add Linux servers from the
command line. To do this, you must create a text file with hostname,
username and password of all the servers you want to add. Multiple
endpoints can be added under the same /Devices/Server/Linux section.
Here is an example...</p>
<pre class="code text literal-block">
/Devices/Server/Linux
LinuxDevice zCommandUsername=&quot;user&quot;, zCommandPassword=&quot;password&quot;
</pre>
<p>You can then load the Linux servers into Zenoss Core or Resource Manager
as devices with the following command.</p>
<pre class="code bash literal-block">
zenbatchload &lt;filename&gt;
</pre>
</div>
<div class="section" id="installed-items">
<h1><a class="toc-backref" href="#id9">Installed Items</a></h1>
<p>Installing this ZenPack will add the following items to your Zenoss
system.</p>
<p>Device Classes</p>
<ul class="simple">
<li>/Server/SSH/Linux</li>
</ul>
<p>Modeler Plugins</p>
<ul class="simple">
<li>zenoss.cmd.uname</li>
<li>zenoss.cmd.linux.df</li>
<li>zenoss.cmd.linux.alt_kernel_name</li>
<li>zenoss.cmd.linux.cpuinfo</li>
<li>zenoss.cmd.linux.interfaces</li>
<li>zenoss.cmd.linux.lvm</li>
<li>zenoss.cmd.linux.memory</li>
<li>zenoss.cmd.linux.netstat_an</li>
<li>zenoss.cmd.linux.netstat_rn</li>
<li>zenoss.cmd.linux.process</li>
<li>zenoss.cmd.linux.rpm</li>
<li>zenoss.cmd.linux.sudo_dmidecode</li>
<li>zenoss.cmd.linux.os_release</li>
<li>zenoss.cmd.linux.os_service</li>
</ul>
<p>Monitoring Templates</p>
<ul class="simple">
<li>Device (in /Devices/Server/SSH/Linux)</li>
<li>HardDisk (in /Devices/Server/SSH/Linux)</li>
<li>IpService (in /Devices)</li>
<li>FileSystem (in /Devices/Server/SSH/Linux)</li>
<li>ethernetCsmacd (in /Devices/Server/SSH/Linux)</li>
<li>SnapshotVolume (in /Devices/Server/SSH/Linux)</li>
<li>PhysicalVolume (in /Devices/Server/SSH/Linux)</li>
<li>VolumeGroup (in /Devices/Server/SSH/Linux)</li>
<li>LogicalVolume (in /Devices/Server/SSH/Linux)</li>
<li>OSProcess (in /Devices/Server/SSH/Linux)</li>
</ul>
</div>
<div class="section" id="monitoring-templates">
<h1><a class="toc-backref" href="#id10">Monitoring Templates</a></h1>
<p>Device (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>ssCpuIdlePerCpu</li>
<li>ssCpuUserPerCpu</li>
<li>ssCpuSystemPerCpu</li>
<li>ssCpuWaitPerCpu</li>
<li>sysUpTime</li>
<li>laLoadInt15</li>
<li>laLoadInt5</li>
<li>laLoadInt1</li>
<li>Buffers</li>
<li>Cached</li>
<li>MemFree</li>
<li>MemTotal</li>
<li>SwapFree</li>
<li>SwapTotal</li>
<li>ssIORawReceived</li>
<li>ssIORawSent</li>
</ul>
</li>
<li>Thresholds<ul>
<li><em>None</em></li>
</ul>
</li>
<li>Graphs<ul>
<li>CPU Utilization</li>
<li>Load Average</li>
<li>Memory Utilization</li>
<li>Memory Usage</li>
<li>IO Throughput</li>
</ul>
</li>
</ul>
<p>HardDisk (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>readsCompleted</li>
<li>readsMerged</li>
<li>sectorsRead</li>
<li>msReading</li>
<li>writesCompleted</li>
<li>writesMerged</li>
<li>sectorsWritten</li>
<li>msWriting</li>
<li>ioInProgress</li>
<li>msDoingIO</li>
<li>msDoingIOWeighted</li>
</ul>
</li>
<li>Thresholds<ul>
<li><em>None</em></li>
</ul>
</li>
<li>Graphs<ul>
<li>Operation Throughtput</li>
<li>Merge Rate</li>
<li>Sector Throughtput</li>
<li>IO Operation in Progress</li>
<li>IO Utilization</li>
<li>Weighted IO Utilization</li>
</ul>
</li>
</ul>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">There were significant changes between 2.4 and 2.6 in the I/O subsystem. As
a result, some statistic information disappeared. The translation from a
disk address relative to a partition to the disk address relative to the
host disk happens much earlier. All merges and timings now happen at the
disk level rather than at both the disk and partition level as in 2.4. There
are only *four* fields available for partitions on 2.6 machines and in
this case few datapoints will be missed.</p>
</div>
<p>IpService (in /Devices)</p>
<ul class="simple">
<li>Data Points<ul>
<li><em>None</em></li>
</ul>
</li>
<li>Thresholds<ul>
<li><em>None</em></li>
</ul>
</li>
<li>Graphs<ul>
<li><em>None</em></li>
</ul>
</li>
</ul>
<p>FileSystem (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>usedBlocks</li>
<li>percentInodesUsed</li>
<li>totalInodes</li>
<li>usedInodes</li>
<li>availableInodes</li>
</ul>
</li>
<li>Thresholds<ul>
<li>90 percent used</li>
</ul>
</li>
<li>Graphs<ul>
<li>Utilization</li>
<li>Usage</li>
<li>Inode Utilization</li>
<li>Inode Usage</li>
</ul>
</li>
</ul>
<p>ethernetCsmacd (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>ifInOctets</li>
<li>ifOutOctets</li>
<li>ifInPackets</li>
<li>ifOutPackets</li>
<li>ifInErrors</li>
<li>ifInDropped</li>
<li>ifInOverruns</li>
<li>ifOutErrors</li>
<li>ifOutCarrier</li>
<li>ifOutCollisions</li>
<li>ifOutDropped</li>
</ul>
</li>
<li>Thresholds<ul>
<li>75 percent utilization</li>
</ul>
</li>
<li>Graphs<ul>
<li>Data Throughput</li>
<li>Packet Throughput</li>
<li>Error Rate</li>
</ul>
</li>
</ul>
<p>SnaphotVolume (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>state</li>
<li>health</li>
</ul>
</li>
<li>Thresholds<ul>
<li><em>None</em></li>
</ul>
</li>
<li>Graphs<ul>
<li><em>None</em></li>
</ul>
</li>
</ul>
<p>PhysicalVolume (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>size</li>
<li>free</li>
<li>allocatable</li>
<li>exported</li>
<li>missing</li>
</ul>
</li>
<li>Thresholds<ul>
<li>unallocatable</li>
<li>exported</li>
<li>missing</li>
</ul>
</li>
<li>Graphs<ul>
<li>Utilization</li>
</ul>
</li>
</ul>
<p>VolumeGroup (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>size</li>
<li>free</li>
<li>partial</li>
</ul>
</li>
<li>Thresholds<ul>
<li>partial</li>
</ul>
</li>
<li>Graphs<ul>
<li>Utilization</li>
</ul>
</li>
</ul>
<p>LogicalVolume (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>state</li>
<li>health</li>
</ul>
</li>
<li>Thresholds<ul>
<li><em>None</em></li>
</ul>
</li>
<li>Graphs<ul>
<li><em>None</em></li>
</ul>
</li>
</ul>
<p>OSProcess (in /Devices/Server/SSH/Linux)</p>
<ul class="simple">
<li>Data Points<ul>
<li>count</li>
<li>cpu</li>
<li>mem</li>
</ul>
</li>
<li>Thresholds<ul>
<li>count</li>
</ul>
</li>
<li>Graphs<ul>
<li>Process Count</li>
<li>CPU Utilization</li>
<li>Memory Usage</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="service-impact">
<h1><a class="toc-backref" href="#id11">Service Impact</a></h1>
<p>When combined with the Zenoss Service Dynamics product, this ZenPack
adds built-in service impact capability for services running on Linux.
The following service impact relationships are automatically added.
These will be included in any services that contain one or more of the
explicitly mentioned entities.</p>
<p>Service Impact Relationships</p>
<ul class="simple">
<li>HardDisk, IpInterface, IpService, OSProcess, CPU, OSService are
impacted by LinuxDevice;</li>
<li>PhysicalVolume is impacted by HardDisk;</li>
<li>VolumeGroup is impacted by PhysicalVolume;</li>
<li>LogicalVolume is impacted by VolumeGroup or HardDisk;</li>
<li>SnapshotVolume is impacted by LogicalVolume or HardDisk;</li>
<li>FileSystem is impacted by SnapshotVolume or LogicalVolume or HardDisk
or LinuxDevice</li>
</ul>
</div>
<div class="section" id="daemons">
<h1><a class="toc-backref" href="#id12">Daemons</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Modeler</td>
<td>zenmodeler</td>
</tr>
<tr><td>Performance Collector</td>
<td>zencommand</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="supported-flavors">
<h1><a class="toc-backref" href="#id13">Supported flavors</a></h1>
<p>The following flavors of Linux are supported</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Linux Flavor</th>
<th class="head">Version</th>
<th class="head">Released</th>
<th class="head">EOS</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Ubuntu</td>
<td>12.04 LTS</td>
<td>April 2012</td>
<td>April 2017</td>
</tr>
<tr><td>&nbsp;</td>
<td>14.04 LTS</td>
<td>April 2014</td>
<td>April 2019</td>
</tr>
<tr><td>&nbsp;</td>
<td>15.04</td>
<td>April 2015</td>
<td>Feb 2016</td>
</tr>
<tr><td>&nbsp;</td>
<td>15.10</td>
<td>Oct 2015</td>
<td>July 2016</td>
</tr>
<tr><td>RedHat EL</td>
<td>RHEL 5</td>
<td>March 2007</td>
<td>March 2017</td>
</tr>
<tr><td>&nbsp;</td>
<td>RHEL 6</td>
<td>Nov 2010</td>
<td>Nov 2020</td>
</tr>
<tr><td>CentOS</td>
<td>5</td>
<td>&nbsp;</td>
<td>March 2017</td>
</tr>
<tr><td>&nbsp;</td>
<td>6</td>
<td>&nbsp;</td>
<td>Nov 2020</td>
</tr>
<tr><td>&nbsp;</td>
<td>7</td>
<td>&nbsp;</td>
<td>June 2024</td>
</tr>
<tr><td>SuSE LES</td>
<td>SLES 11</td>
<td>&nbsp;</td>
<td>March 2022</td>
</tr>
<tr><td>&nbsp;</td>
<td>SLES 12</td>
<td>&nbsp;</td>
<td>Oct 2027</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="changes">
<h1><a class="toc-backref" href="#id14">Changes</a></h1>
<p>2.1.1</p>
<ul class="simple">
<li>Fix &quot;ifconfig&quot; is checked before &quot;ip&quot; Linux Monitor (ZEN-25425)</li>
</ul>
<p>2.1.0</p>
<ul class="simple">
<li>Add cpu_ssCpuUsedPerCpu and mem_MemUsedPercent datapoints. (ZEN-22978)</li>
<li>Add common datapoint aliases. (ZEN-24619)</li>
<li>Improve ability to model network interface speeds.</li>
<li>Improve support for NFS filesystem impact. (ZEN-24478)</li>
<li>Improve NFS filesystem linking to NFS server. (ZEN-24478)</li>
<li>Disable monitor of NFS mounted filesystems by default. (ZEN-24650)</li>
<li>Prevent threshold violations on interfaces with unknown speed.</li>
<li>Fix IndexError when modeling older LVM versions. (ZEN-25792)</li>
<li>Fix setIdForRelationship error when modeling some LVM versions. (ZEN-22409)</li>
</ul>
<p>2.0.6</p>
<ul class="simple">
<li>Fix &quot;string index out of range&quot; error when modeling older LVM versions (ZEN-25792)</li>
</ul>
<p>2.0.4</p>
<ul class="simple">
<li>Fix &quot;unimplemented&quot; SSH error on 4.2.5 SP709. (ZEN-23392)</li>
</ul>
<p>2.0.3</p>
<ul class="simple">
<li>Fix migration of Linux devices to new type. (ZEN-24293)</li>
</ul>
<p>2.0.2</p>
<ul class="simple">
<li>Added property to ignore unmounted hard disks</li>
<li>Improve 1.x to 2.x migration time. (ZEN-24024)</li>
</ul>
<p>2.0.1</p>
<ul class="simple">
<li>Fix invalid event class in filesystem threshold</li>
</ul>
<p>2.0.0</p>
<ul class="simple">
<li>Added support for LVM Physical Volumes, Volume Groups, and Logical Volumes</li>
<li>Added support for OpenStack-LVM Integration</li>
<li>Added disk (block device) monitoring.</li>
<li>Added service monitoring (sysvinit, systemd, upstart).</li>
<li>Combined EnterpriseLinux and LinuxMonitor capabilities.</li>
<li>Enhanced Impact Support</li>
<li>Added Dynamic View Support</li>
<li>Completely replaces EnterpriseLinux ZenPack</li>
<li>Many other smaller improvements.</li>
</ul>
</div>
</div>
